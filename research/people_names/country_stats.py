import json

import pycountry

print(pycountry.countries.search_fuzzy('LA'))
data = """China	1032000000	1425893465
India	836860000	1407563842
United States	307200000	336997624
Indonesia	196000000	273753191
Brazil	165300000	214326223
Nigeria	136203231	213401323
Pakistan	130000000	213756286
Russia	129800000	145102755
Bangladesh	126210000	166303498
Japan	117400000	124612530
Mexico	92010000	128972439
Iran	78086663	87923432
Germany	77794405	83408554
Philippines	73003313	113880328
Turkey	69945905	84775404
Vietnam	68172134	97468029
United Kingdom	65001016	67281039
France	59470000	64531444
Egypt	54740141	109262178
South Korea	49421084	51830139
Spain	42400756	47486935
Thailand	54043108	71601103
Italy	50540000	59240329
Poland	34697848	38307726
Canada	33950632	38155012
Argentina	33561876	45276780
South Africa	31858027	59392255
Colombia	30548252	51516562
Saudi Arabia	27048861	35950396
Malaysia	25343685	33573874
Ukraine	31100000	43531422
Algeria	26350000	44177969
Morocco	22072765	37076584
Taiwan	21920626	23859912
Australia	21159515	25921089
Venezuela	20564451	28199867
Ethiopia	19543075	120283026
Iraq	18892351	43533592
Uzbekistan	16692456	34081449
Myanmar	16374103	53798084
Netherlands	15877494	17501696
Peru	15674241	33715471
Chile	14864456	19493184
Kazakhstan	13913699	19196465
Romania	12545558	19328560
Sudan	12512639	45657202
Ghana	15065541	32833031
Côte d'Ivoire	10650818	27478249
Uganda	10162807	45853778
Belgium	10021242	11611419
Sweden	9554907	10467097
Ecuador	9521056	17797737
Tanzania	30000000	63588334
United Arab Emirates	8913217	9365145
Kenya	8861485	53005614
Czech Republic	8358728	10510751
Switzerland	7942864	8691406
Greece	7923438	10445365
Azerbaijan	7763795	10312992
Austria	7681957	8922082
Portugal	7622142	10290103
Yemen	7548512	32981641
Hungary	7461297	9709786
Sri Lanka	7121116	21773441
Belarus	7048231	9578167
CD	7011507	95894118
Dominican Republic	6997472	11117873
Guatemala	11750000	17608483
Israel	6788737	8900059
HK	6585678	7494578
Jordan	6480202	11148278
Tunisia	6400330	12262946
Nepal	16190000	30034989
Syria	6257430	21324367
Serbia	6182411	7296769
Mozambique	6162217	32077072
Cuba	5638956	11256372
Cameroon	5580465	27198628
Denmark	5407278	5854240
Cambodia	5441827	16589023
Norway	5120225	5403021
Bolivia	4843916	12079472
Finland	4831170	5535992
Singapore	4821119	5941060
Zambia	4760715	19473125
Lebanon	4755187	5592631
Senegal	4698108	16876720
Bulgaria	4492326	6885868
Zimbabwe	4472992	15993524
Slovakia	4446926	5447622
New Zealand	4273353	5129727
Angola	4271053	34503774
Paraguay	4160340	6703799
Afghanistan	4068194	40099462
Kuwait	4053797	4250114
Ireland	4024552	4986526
Oman	3717818	4520471
Costa Rica	3511549	5153957
Palestine	3208312	5133392
Moldova	3083783	3061506
Burkina Faso	3047909	22100683
Honduras	2977793	10278345
Croatia	2811056	4060135
PR	2664928	3256028
Rwanda	2657770	13461888
Malawi	2566126	19889742
Qatar	2532059	2688235
Madagascar	2505948	28915653
Bosnia and Herzegovina	2320000	3270943
Panama	2371852	4351267
Georgia	3446533	3757980
Uruguay	2360269	3426260
Mali	2358540	21904983
Kyrgyzstan	2309235	6527743
Lithuania	2243448	2786651
Niger	2194985	25252722
Albania	2105339	2854710
Armenia	2043110	2790974
El Salvador	1993079	6314167
Tajikistan	1959127	9750064
LA	1749517	7425057
Nicaragua	1732218	6850540
Slovenia	1640893	2119410
North Macedonia	1589659	2103330
Latvia	1585471	1873919
Benin	1578008	12996895
Guinea	1449758	13531906
Bahrain	1431090	1463265
Jamaica	1409888	2827695
Libya	1387116	6735277
Haiti	1353986	11447569
Turkmenistan	1223591	6341855
Estonia	1153786	1328701
Trinidad and Tobago	1058744	1525663
Gabon	1040000	2341179
South Sudan	1003542	10748272
Sierra Leone	1000575	8420641
Chad	968500	17179740
Togo	963795	8644829
Cyprus	952369	1244188
Botswana	948977	2588423
Namibia	933450	2530151
Papua New Guinea	924955	9949437
Mauritania	919398	4614974
Mongolia	729236	3347782
Mauritius	702911	1298915
Lesotho	665312	2281454
Burundi	607311	12551213
Luxembourg	570794	639321
Djibouti	532849	1105557
Macao	517789	686607
Congo	455055	5835806
Fiji	452479	924610
Montenegro	505055	627859
Gambia	416753	2639916
Eswatini	414278	1192271
Brunei	406705	445373
Bhutan	388541	777486
Liberia	377607	5193416
TP	356356	1320942
Malta	344970	526748
Bahamas	336057	407906
Equatorial Guinea	332642	1634466
Iceland	329196	370335
Cabo Verde	312315	587925
Somalia	294851	17065581
Guyana	290375	804567
Suriname	275785	612985
Maldives	275717	521457
Barbados	233604	281200
New Caledonia	226557	287800
French Polynesia	205746	304032
Central African Republic	202204	5457154
Belize	176400	400031
Guam	132221	170534
AW	102285	106537
Saint Lucia	90889	179651
Antigua and Barbuda	77529	93219
Andorra	76095	79034
Guinea-Bissau	73148	2060721
Solomon Islands	72872	707851
Saint Vincent and the Grenadines	72048	104332
Vanuatu	71050	319137
Comoros	69020	821625
VI	67535	100091
Eritrea	66402	3620312
Samoa	66023	218764
Grenada	63692	124610
São Tomé and Príncipe	61155	223107
Bermuda	60349	64185
Seychelles	55677	106471
Dominica	51467	72412
Cayman Islands	49906	68136
Faroe Islands	48097	52889
Saint Kitts and Nevis	44669	47606
Tonga	44558	106017
Greenland	39242	56243
Jersey	38958	109618
Monaco	37553	36686
Micronesia	37257	534606
Liechtenstein	37201	39039
Gibraltar	32494	32669
Marshall Islands	20560	42050
San Marino	20100	33745
Kiribati	16971	128874
British Virgin Islands	14456	31122
Anguilla	12043	15753
Nauru	6475	12511
Tuvalu	5520	11204
Saint Helena, Ascension and Tristan da Cunha	2906	5404
Falkland Islands	2881	3764
Montserrat	2833	4417
Wallis and Futuna	1383	11627
Niue	1034	1937"""

country_stats = {}

for row in data.split('\n'):
    country, internet_users, population = row.split('\t')
    try:
        r = pycountry.countries.search_fuzzy(country)
        print(country, r[0].alpha_2)
        country_stats[r[0].alpha_2] = [int(internet_users), int(population)]
    except:
        print(country)

json.dump(country_stats, open(f'country_stats.json', 'w'), ensure_ascii=False, indent=2)
